name: Maven Deploy
on:
   push:
      branches:
      - release
jobs:
   publish:
      runs-on: ubuntu-latest
      steps:
      -  name: Checkout project
         uses: actions/checkout@v2
      -  name: Set up JDK with Maven Central Repository
         uses: actions/setup-java@v1
         with:
            java-version: 11
      -  name: Release
         uses: qcastel/github-actions-maven-release@master
         with:
            release-branch-name: release
            git-release-bot-name: ${{ secrets.RELEASE_USER_NAME }}
            git-release-bot-email: ${{ secrets.RELEASE_USER_EMAIL }}
            gpg-key-id: ${{ secrets.RELEASE_GPG_KEY_ID }}
            gpg-key: ${{ secrets.RELEASE_GPG_KEY }}
            access-token: ${{ secrets.GITHUB_ACCESS_TOKEN }}
            maven-repo-server-id: ossrh
            maven-repo-server-username: ${{ secrets.OSSRH_USERNAME }}
            maven-repo-server-password: ${{ secrets.OSSRH_PASSWORD }}
            maven-args: -DskipTests